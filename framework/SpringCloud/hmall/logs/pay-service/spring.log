00:14:24:862  INFO 5916 --- [main] com.hmall.pay.PayApplication             : Starting PayApplication using Java 11.0.20 on JoneElmo with PID 5916 (/home/joneelmo/A_mycode/springcloud_study/hmall/pay-service/target/classes started by joneelmo in /home/joneelmo/A_mycode/springcloud_study/hmall)
00:14:24:869 DEBUG 5916 --- [main] com.hmall.pay.PayApplication             : Running with Spring Boot v2.7.12, Spring v5.3.27
00:14:24:871  INFO 5916 --- [main] com.hmall.pay.PayApplication             : The following 1 profile is active: "local"
00:14:26:274  INFO 5916 --- [main] o.s.cloud.context.scope.GenericScope     : BeanFactory id=bd2c86b3-c43d-3e7e-b92f-c068d0644d7e
00:14:26:704  INFO 5916 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 8086 (http)
00:14:26:715  INFO 5916 --- [main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
00:14:26:715  INFO 5916 --- [main] org.apache.catalina.core.StandardEngine  : Starting Servlet engine: [Apache Tomcat/9.0.75]
00:14:26:828  INFO 5916 --- [main] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
00:14:26:829  INFO 5916 --- [main] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 1887 ms
00:14:27:454  INFO 5916 --- [main] o.s.c.openfeign.FeignClientFactoryBean   : For 'user-service' URL not provided. Will try picking an instance via load-balancing.
00:14:28:268  INFO 5916 --- [main] o.s.c.openfeign.FeignClientFactoryBean   : For 'trade-service' URL not provided. Will try picking an instance via load-balancing.
00:14:29:493  INFO 5916 --- [main] pertySourcedRequestMappingHandlerMapping : Mapped URL path [/v2/api-docs] onto method [springfox.documentation.swagger2.web.Swagger2ControllerWebMvc#getDocumentation(String, HttpServletRequest)]
00:14:29:850  INFO 5916 --- [main] com.alibaba.nacos.common.remote.client   : [RpcClientFactory] create a new rpc client of e782456a-675d-4c4f-a2c0-071978ebbba5
00:14:29:916  INFO 5916 --- [main] org.reflections.Reflections              : Reflections took 35 ms to scan 1 urls, producing 3 keys and 6 values 
00:14:29:960  INFO 5916 --- [main] org.reflections.Reflections              : Reflections took 13 ms to scan 1 urls, producing 4 keys and 9 values 
00:14:29:977  INFO 5916 --- [main] org.reflections.Reflections              : Reflections took 11 ms to scan 1 urls, producing 3 keys and 10 values 
00:14:29:983  WARN 5916 --- [main] org.reflections.Reflections              : given scan urls are empty. set urls in the configuration
00:14:29:996  INFO 5916 --- [main] org.reflections.Reflections              : Reflections took 11 ms to scan 1 urls, producing 1 keys and 5 values 
00:14:30:012  INFO 5916 --- [main] org.reflections.Reflections              : Reflections took 11 ms to scan 1 urls, producing 1 keys and 7 values 
00:14:30:027  INFO 5916 --- [main] org.reflections.Reflections              : Reflections took 11 ms to scan 1 urls, producing 2 keys and 8 values 
00:14:30:031  WARN 5916 --- [main] org.reflections.Reflections              : given scan urls are empty. set urls in the configuration
00:14:30:033  INFO 5916 --- [main] com.alibaba.nacos.common.remote.client   : [e782456a-675d-4c4f-a2c0-071978ebbba5] RpcClient init label, labels = {module=naming, source=sdk}
00:14:30:036  INFO 5916 --- [main] com.alibaba.nacos.common.remote.client   : [e782456a-675d-4c4f-a2c0-071978ebbba5] RpcClient init, ServerListFactory = com.alibaba.nacos.client.naming.core.ServerListManager
00:14:30:036  INFO 5916 --- [main] com.alibaba.nacos.common.remote.client   : [e782456a-675d-4c4f-a2c0-071978ebbba5] Registry connection listener to current client:com.alibaba.nacos.client.naming.remote.gprc.redo.NamingGrpcRedoService
00:14:30:037  INFO 5916 --- [main] com.alibaba.nacos.common.remote.client   : [e782456a-675d-4c4f-a2c0-071978ebbba5] Register server push request handler:com.alibaba.nacos.client.naming.remote.gprc.NamingPushRequestHandler
00:14:30:040  INFO 5916 --- [main] com.alibaba.nacos.common.remote.client   : [e782456a-675d-4c4f-a2c0-071978ebbba5] Try to connect to server on start up, server: {serverIp = '192.168.1.123', server main port = 8848}
00:14:30:774 ERROR 5916 --- [nacos-grpc-client-executor-6] c.a.n.c.remote.client.grpc.GrpcClient    : [1702916070666_192.168.1.123_40584]Error to process server push response: {"headers":{},"abilityTable":{"supportPersistentInstanceByGrpc":true},"module":"internal"}
00:14:30:864  INFO 5916 --- [main] com.alibaba.nacos.common.remote.client   : [e782456a-675d-4c4f-a2c0-071978ebbba5] Success to connect to server [192.168.1.123:8848] on start up, connectionId = 1702916070666_192.168.1.123_40584
00:14:30:865  INFO 5916 --- [com.alibaba.nacos.client.remote.worker] com.alibaba.nacos.common.remote.client   : [e782456a-675d-4c4f-a2c0-071978ebbba5] Notify connected event to listeners.
00:14:30:865  INFO 5916 --- [main] com.alibaba.nacos.common.remote.client   : [e782456a-675d-4c4f-a2c0-071978ebbba5] Register server push request handler:com.alibaba.nacos.common.remote.client.RpcClient$ConnectResetRequestHandler
00:14:30:866  INFO 5916 --- [main] com.alibaba.nacos.common.remote.client   : [e782456a-675d-4c4f-a2c0-071978ebbba5] Register server push request handler:com.alibaba.nacos.common.remote.client.RpcClient$$Lambda$996/0x0000000800713840
00:14:30:935  INFO 5916 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port(s): 8086 (http) with context path ''
00:14:30:948  INFO 5916 --- [main] c.a.c.n.registry.NacosServiceRegistry    : nacos registry, DEFAULT_GROUP pay-service 192.168.1.123:8086 register finished
00:14:30:962  INFO 5916 --- [main] d.s.w.p.DocumentationPluginsBootstrapper : Documentation plugins bootstrapped
00:14:30:966  INFO 5916 --- [main] d.s.w.p.DocumentationPluginsBootstrapper : Found 1 custom documentation plugin(s)
00:14:31:008  INFO 5916 --- [main] s.d.s.w.s.ApiListingReferenceScanner     : Scanning for api listing references
00:14:31:115  INFO 5916 --- [main] com.hmall.pay.PayApplication             : Started PayApplication in 6.962 seconds (JVM running for 7.636)
00:14:31:402  INFO 5916 --- [nacos-grpc-client-executor-13] com.alibaba.nacos.common.remote.client   : [e782456a-675d-4c4f-a2c0-071978ebbba5] Receive server push request, request = NotifySubscriberRequest, requestId = 5
00:14:31:405  INFO 5916 --- [nacos-grpc-client-executor-13] com.alibaba.nacos.common.remote.client   : [e782456a-675d-4c4f-a2c0-071978ebbba5] Ack server push request, request = NotifySubscriberRequest, requestId = 5
00:48:20:871  WARN 5916 --- [Thread-7] c.a.n.common.http.HttpClientBeanHolder   : [HttpClientBeanHolder] Start destroying common HttpClient
00:48:20:863  WARN 5916 --- [Thread-4] c.a.nacos.common.notify.NotifyCenter     : [NotifyCenter] Start destroying Publisher
00:48:21:720  WARN 5916 --- [Thread-4] c.a.nacos.common.notify.NotifyCenter     : [NotifyCenter] Destruction of the end
00:48:22:690  WARN 5916 --- [Thread-7] c.a.n.common.http.HttpClientBeanHolder   : [HttpClientBeanHolder] Destruction of the end
00:48:25:029  INFO 5916 --- [SpringApplicationShutdownHook] c.a.c.n.registry.NacosServiceRegistry    : De-registering from Nacos Server now...
00:48:25:053  INFO 5916 --- [SpringApplicationShutdownHook] c.a.c.n.registry.NacosServiceRegistry    : De-registration finished.
00:48:25:386  INFO 5916 --- [SpringApplicationShutdownHook] com.alibaba.nacos.common.remote.client   : Shutdown rpc client, set status to shutdown
00:48:25:387  INFO 5916 --- [SpringApplicationShutdownHook] com.alibaba.nacos.common.remote.client   : Shutdown client event executor java.util.concurrent.ScheduledThreadPoolExecutor@426420ad[Running, pool size = 2, active threads = 2, queued tasks = 0, completed tasks = 0]
00:48:25:387  INFO 5916 --- [SpringApplicationShutdownHook] com.alibaba.nacos.common.remote.client   : Close current connection 1702916070666_192.168.1.123_40584
00:48:25:400  INFO 5916 --- [nacos-grpc-client-executor-559] c.a.n.c.remote.client.grpc.GrpcClient    : [1702916070666_192.168.1.123_40584]Ignore complete event,isRunning:false,isAbandon=false
00:48:25:404  INFO 5916 --- [SpringApplicationShutdownHook] c.a.n.c.remote.client.grpc.GrpcClient    : Shutdown grpc executor java.util.concurrent.ThreadPoolExecutor@11f7c4db[Running, pool size = 5, active threads = 0, queued tasks = 0, completed tasks = 560]
00:48:49:428  INFO 23632 --- [main] com.hmall.pay.PayApplication             : Starting PayApplication using Java 11.0.20 on JoneElmo with PID 23632 (/home/joneelmo/A_mycode/springcloud_study/hmall/pay-service/target/classes started by joneelmo in /home/joneelmo/A_mycode/springcloud_study/hmall)
00:48:49:430 DEBUG 23632 --- [main] com.hmall.pay.PayApplication             : Running with Spring Boot v2.7.12, Spring v5.3.27
00:48:49:431  INFO 23632 --- [main] com.hmall.pay.PayApplication             : The following 1 profile is active: "local"
00:48:50:568  INFO 23632 --- [main] o.s.cloud.context.scope.GenericScope     : BeanFactory id=bd2c86b3-c43d-3e7e-b92f-c068d0644d7e
00:48:50:950  INFO 23632 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 8086 (http)
00:48:50:958  INFO 23632 --- [main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
00:48:50:958  INFO 23632 --- [main] org.apache.catalina.core.StandardEngine  : Starting Servlet engine: [Apache Tomcat/9.0.75]
00:48:51:085  INFO 23632 --- [main] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
00:48:51:086  INFO 23632 --- [main] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 1605 ms
00:48:51:374  INFO 23632 --- [main] o.s.c.openfeign.FeignClientFactoryBean   : For 'user-service' URL not provided. Will try picking an instance via load-balancing.
00:48:51:651  INFO 23632 --- [main] o.s.c.openfeign.FeignClientFactoryBean   : For 'trade-service' URL not provided. Will try picking an instance via load-balancing.
00:48:53:542  INFO 23632 --- [main] o.s.cloud.commons.util.InetUtils         : Cannot determine local hostname
00:48:53:572  INFO 23632 --- [main] pertySourcedRequestMappingHandlerMapping : Mapped URL path [/v2/api-docs] onto method [springfox.documentation.swagger2.web.Swagger2ControllerWebMvc#getDocumentation(String, HttpServletRequest)]
00:48:54:626  INFO 23632 --- [main] o.s.cloud.commons.util.InetUtils         : Cannot determine local hostname
00:48:54:802  INFO 23632 --- [main] com.alibaba.nacos.common.remote.client   : [RpcClientFactory] create a new rpc client of 3341a5dc-605a-431d-a299-ff3589afb5c6
00:48:54:844  INFO 23632 --- [main] org.reflections.Reflections              : Reflections took 22 ms to scan 1 urls, producing 3 keys and 6 values 
00:48:54:869  INFO 23632 --- [main] org.reflections.Reflections              : Reflections took 9 ms to scan 1 urls, producing 4 keys and 9 values 
00:48:54:879  INFO 23632 --- [main] org.reflections.Reflections              : Reflections took 7 ms to scan 1 urls, producing 3 keys and 10 values 
00:48:54:882  WARN 23632 --- [main] org.reflections.Reflections              : given scan urls are empty. set urls in the configuration
00:48:54:892  INFO 23632 --- [main] org.reflections.Reflections              : Reflections took 9 ms to scan 1 urls, producing 1 keys and 5 values 
00:48:54:905  INFO 23632 --- [main] org.reflections.Reflections              : Reflections took 9 ms to scan 1 urls, producing 1 keys and 7 values 
00:48:54:917  INFO 23632 --- [main] org.reflections.Reflections              : Reflections took 9 ms to scan 1 urls, producing 2 keys and 8 values 
00:48:54:926  WARN 23632 --- [main] org.reflections.Reflections              : given scan urls are empty. set urls in the configuration
00:48:54:928  INFO 23632 --- [main] com.alibaba.nacos.common.remote.client   : [3341a5dc-605a-431d-a299-ff3589afb5c6] RpcClient init label, labels = {module=naming, source=sdk}
00:48:54:935  INFO 23632 --- [main] com.alibaba.nacos.common.remote.client   : [3341a5dc-605a-431d-a299-ff3589afb5c6] RpcClient init, ServerListFactory = com.alibaba.nacos.client.naming.core.ServerListManager
00:48:54:935  INFO 23632 --- [main] com.alibaba.nacos.common.remote.client   : [3341a5dc-605a-431d-a299-ff3589afb5c6] Registry connection listener to current client:com.alibaba.nacos.client.naming.remote.gprc.redo.NamingGrpcRedoService
00:48:54:936  INFO 23632 --- [main] com.alibaba.nacos.common.remote.client   : [3341a5dc-605a-431d-a299-ff3589afb5c6] Register server push request handler:com.alibaba.nacos.client.naming.remote.gprc.NamingPushRequestHandler
00:48:54:942  INFO 23632 --- [main] com.alibaba.nacos.common.remote.client   : [3341a5dc-605a-431d-a299-ff3589afb5c6] Try to connect to server on start up, server: {serverIp = '192.168.1.123', server main port = 8848}
00:48:55:520 ERROR 23632 --- [nacos-grpc-client-executor-6] c.a.n.c.remote.client.grpc.GrpcClient    : [1702918135405_192.168.1.123_37838]Error to process server push response: {"headers":{},"abilityTable":{"supportPersistentInstanceByGrpc":true},"module":"internal"}
00:48:55:609  INFO 23632 --- [main] com.alibaba.nacos.common.remote.client   : [3341a5dc-605a-431d-a299-ff3589afb5c6] Success to connect to server [192.168.1.123:8848] on start up, connectionId = 1702918135405_192.168.1.123_37838
00:48:55:610  INFO 23632 --- [com.alibaba.nacos.client.remote.worker] com.alibaba.nacos.common.remote.client   : [3341a5dc-605a-431d-a299-ff3589afb5c6] Notify connected event to listeners.
00:48:55:610  INFO 23632 --- [main] com.alibaba.nacos.common.remote.client   : [3341a5dc-605a-431d-a299-ff3589afb5c6] Register server push request handler:com.alibaba.nacos.common.remote.client.RpcClient$ConnectResetRequestHandler
00:48:55:611  INFO 23632 --- [main] com.alibaba.nacos.common.remote.client   : [3341a5dc-605a-431d-a299-ff3589afb5c6] Register server push request handler:com.alibaba.nacos.common.remote.client.RpcClient$$Lambda$996/0x0000000800713840
00:48:55:659  INFO 23632 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port(s): 8086 (http) with context path ''
00:48:55:668  INFO 23632 --- [main] c.a.c.n.registry.NacosServiceRegistry    : nacos registry, DEFAULT_GROUP pay-service 192.168.1.123:8086 register finished
00:48:56:153  INFO 23632 --- [nacos-grpc-client-executor-11] com.alibaba.nacos.common.remote.client   : [3341a5dc-605a-431d-a299-ff3589afb5c6] Receive server push request, request = NotifySubscriberRequest, requestId = 45
00:48:56:159  INFO 23632 --- [nacos-grpc-client-executor-11] com.alibaba.nacos.common.remote.client   : [3341a5dc-605a-431d-a299-ff3589afb5c6] Ack server push request, request = NotifySubscriberRequest, requestId = 45
00:48:56:669  INFO 23632 --- [main] o.s.cloud.commons.util.InetUtils         : Cannot determine local hostname
00:48:56:670  INFO 23632 --- [main] d.s.w.p.DocumentationPluginsBootstrapper : Documentation plugins bootstrapped
00:48:56:674  INFO 23632 --- [main] d.s.w.p.DocumentationPluginsBootstrapper : Found 1 custom documentation plugin(s)
00:48:56:695  INFO 23632 --- [main] s.d.s.w.s.ApiListingReferenceScanner     : Scanning for api listing references
00:48:56:794  INFO 23632 --- [main] com.hmall.pay.PayApplication             : Started PayApplication in 7.899 seconds (JVM running for 8.416)
00:54:18:773  INFO 23632 --- [http-nio-8086-exec-1] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring DispatcherServlet 'dispatcherServlet'
00:54:18:774  INFO 23632 --- [http-nio-8086-exec-1] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'
00:54:18:775  INFO 23632 --- [http-nio-8086-exec-1] o.s.web.servlet.DispatcherServlet        : Completed initialization in 1 ms
00:54:18:869  INFO 23632 --- [http-nio-8086-exec-1] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
00:54:19:075  INFO 23632 --- [http-nio-8086-exec-1] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
00:54:19:081 DEBUG 23632 --- [http-nio-8086-exec-1] c.h.pay.mapper.PayOrderMapper.selectOne  : ==>  Preparing: SELECT id,biz_order_no,pay_order_no,biz_user_id,pay_channel_code,amount,pay_type,status,expand_json,result_code,result_msg,pay_success_time,pay_over_time,qr_code_url,create_time,update_time,creater,updater,is_delete FROM pay_order WHERE (biz_order_no = ?)
00:54:19:096 DEBUG 23632 --- [http-nio-8086-exec-1] c.h.pay.mapper.PayOrderMapper.selectOne  : ==> Parameters: 1736792012124930050(Long)
00:54:19:162 DEBUG 23632 --- [http-nio-8086-exec-1] c.h.pay.mapper.PayOrderMapper.selectOne  : <==      Total: 0
00:54:19:207 DEBUG 23632 --- [http-nio-8086-exec-1] c.h.pay.mapper.PayOrderMapper.insert     : ==>  Preparing: INSERT INTO pay_order ( id, biz_order_no, pay_order_no, biz_user_id, pay_channel_code, amount, pay_type, status, pay_over_time ) VALUES ( ?, ?, ?, ?, ?, ?, ?, ?, ? )
00:54:19:210 DEBUG 23632 --- [http-nio-8086-exec-1] c.h.pay.mapper.PayOrderMapper.insert     : ==> Parameters: 1736792015581028353(Long), 1736792012124930050(Long), 1736792015564251137(Long), 1(Long), balance(String), 38400(Integer), 5(Integer), 1(Integer), 2023-12-19T02:54:19.197395(LocalDateTime)
00:54:19:301 DEBUG 23632 --- [http-nio-8086-exec-1] c.h.pay.mapper.PayOrderMapper.insert     : <==    Updates: 1
00:58:03:620 DEBUG 23632 --- [http-nio-8086-exec-3] c.h.pay.mapper.PayOrderMapper.selectOne  : ==>  Preparing: SELECT id,biz_order_no,pay_order_no,biz_user_id,pay_channel_code,amount,pay_type,status,expand_json,result_code,result_msg,pay_success_time,pay_over_time,qr_code_url,create_time,update_time,creater,updater,is_delete FROM pay_order WHERE (biz_order_no = ?)
00:58:03:620 DEBUG 23632 --- [http-nio-8086-exec-3] c.h.pay.mapper.PayOrderMapper.selectOne  : ==> Parameters: 1736792955474231298(Long)
00:58:03:622 DEBUG 23632 --- [http-nio-8086-exec-3] c.h.pay.mapper.PayOrderMapper.selectOne  : <==      Total: 0
00:58:03:623 DEBUG 23632 --- [http-nio-8086-exec-3] c.h.pay.mapper.PayOrderMapper.insert     : ==>  Preparing: INSERT INTO pay_order ( id, biz_order_no, pay_order_no, biz_user_id, pay_channel_code, amount, pay_type, status, pay_over_time ) VALUES ( ?, ?, ?, ?, ?, ?, ?, ?, ? )
00:58:03:624 DEBUG 23632 --- [http-nio-8086-exec-3] c.h.pay.mapper.PayOrderMapper.insert     : ==> Parameters: 1736792956854149122(Long), 1736792955474231298(Long), 1736792956849954817(Long), 1(Long), balance(String), 38400(Integer), 5(Integer), 1(Integer), 2023-12-19T02:58:03.622987(LocalDateTime)
00:58:03:634 DEBUG 23632 --- [http-nio-8086-exec-3] c.h.pay.mapper.PayOrderMapper.insert     : <==    Updates: 1
01:08:22:473  WARN 23632 --- [Thread-7] c.a.n.common.http.HttpClientBeanHolder   : [HttpClientBeanHolder] Start destroying common HttpClient
01:08:22:473  WARN 23632 --- [Thread-4] c.a.nacos.common.notify.NotifyCenter     : [NotifyCenter] Start destroying Publisher
01:08:22:474  WARN 23632 --- [Thread-4] c.a.nacos.common.notify.NotifyCenter     : [NotifyCenter] Destruction of the end
01:08:22:474  WARN 23632 --- [Thread-7] c.a.n.common.http.HttpClientBeanHolder   : [HttpClientBeanHolder] Destruction of the end
01:08:22:497  INFO 23632 --- [SpringApplicationShutdownHook] c.a.c.n.registry.NacosServiceRegistry    : De-registering from Nacos Server now...
01:08:22:502  INFO 23632 --- [SpringApplicationShutdownHook] c.a.c.n.registry.NacosServiceRegistry    : De-registration finished.
01:08:22:805  INFO 23632 --- [SpringApplicationShutdownHook] com.alibaba.nacos.common.remote.client   : Shutdown rpc client, set status to shutdown
01:08:22:805  INFO 23632 --- [SpringApplicationShutdownHook] com.alibaba.nacos.common.remote.client   : Shutdown client event executor java.util.concurrent.ScheduledThreadPoolExecutor@66fa5cc8[Running, pool size = 2, active threads = 2, queued tasks = 0, completed tasks = 0]
01:08:22:805  INFO 23632 --- [SpringApplicationShutdownHook] com.alibaba.nacos.common.remote.client   : Close current connection 1702918135405_192.168.1.123_37838
01:08:22:806  INFO 23632 --- [nacos-grpc-client-executor-364] c.a.n.c.remote.client.grpc.GrpcClient    : [1702918135405_192.168.1.123_37838]Ignore complete event,isRunning:false,isAbandon=false
01:08:22:808  INFO 23632 --- [SpringApplicationShutdownHook] c.a.n.c.remote.client.grpc.GrpcClient    : Shutdown grpc executor java.util.concurrent.ThreadPoolExecutor@58acffb0[Running, pool size = 7, active threads = 0, queued tasks = 0, completed tasks = 365]
01:08:22:812  INFO 23632 --- [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown initiated...
01:08:22:823  INFO 23632 --- [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown completed.
